# Flightradar24 Simulation
### A sample architecture for a real-time data-intensive application

The project simulates the real-time live tracking of aircraft positioning via ADS-B data, similar to that of the Flightradar24.com website. Flightradar24.com tracks approximately 200,000 flights per day with over 40,000 receivers. Roughly 7,000 to 8,000 commercial flights are airborne at any given time. Each aircraft transmits its position every second. In practice, this translates into 500,000 records per minute. 

<img src="https://github.com/chiarusya/DLMDSEDE02/blob/main/Flightradar24.png" alt="Smaller Image" width="600" height="auto">

In the absence of a real ADS-B dataset, a fictitious dataset is generated by a Python script with a .CSV output. The dataset contains all essential columns expected from the ADS-B feed: timestamp, flight number, latitude, longitude, and heading. The dataset is sorted by timestamp to imitate real-time messages as they are received and processed.

Data Sample:

| timestamp       | flight_number | ac_type      | dep_stn | arr_stn | latitude           | longitude          | altitude | speed | heading           |
|-----------------|---------------|--------------|---------|---------|--------------------|--------------------|----------|-------|-------------------|
| 14/12/2023 0:00 | SFX3870       | Boeing 747SP | BFE     | NYR     | 51.964722          | 8.544444           | 3000     | 250   | 75.5421045        |
| 14/12/2023 0:01 | SFX3870       | Boeing 747SP | BFE     | NYR     | 53.22364155555556  | 20.743616666666668 | 11000    | 325   | 75.18112708981562 |
| 14/12/2023 0:02 | SFX3870       | Boeing 747SP | BFE     | NYR     | 54.48256111111111  | 32.94278933333333  | 19000    | 400   | 74.80081400169661 |
| 14/12/2023 0:03 | SFX3870       | Boeing 747SP | BFE     | NYR     | 55.74148066666667  | 45.14196199999999  | 27000    | 475   | 74.39888973498091 |
| 14/12/2023 0:04 | SFX3870       | Boeing 747SP | BFE     | NYR     | 57.000400222222225 | 57.34113466666666  | 35000    | 550   | 73.972734         |

The data is then processed by Apache Kafka and stored in a Postgres database. 

The database is queried by a data-server container that feeds a web-based app to track the aircraft visually on the map. All components are run as Docker containers, making the project reproducible.

<img src="https://github.com/chiarusya/DLMDSEDE02/blob/main/Data Architecture.png" alt="Smaller Image" width="900" height="auto">

The code contains a docker-compose YML file that can reproduce the entire project. **No additional installation is required (except Docker).** The standard "docker-compose up --build" command is sufficient.

Firstly, a simulated single-day ADS-B dataset is generated using 3 lookup files for airlines, airports, and aircraft. The dataset contains 3,000,000 records: 1000 flights with 3000 aircraft positioning points each. The data-generator runs as a container.

Next, a Postgres DB container is initialized, creating a “flight_data” table and indexing key fields.

After that Kafka containers are started. Kafka producer reads the data in chunks of 7,000 rows with a 1 sec delay and publishes it to a topic. This process includes an infinite loop to simulate continuous data streaming. Kafka consumer inserts the data into the Postgres DB.

Next, a WebSocket server container is used to receive the data from a data-server container (querying the Postgres DB for new records only every 3 seconds), which is then fed to a frontend app (tested with Google Chrome). 

The final result can viewed in Google Chrome browser at http://localhost:5001/

<img src="https://github.com/chiarusya/DLMDSEDE02/blob/main/Frontend app screenshot.png" alt="Smaller Image" width="600" height="auto">
